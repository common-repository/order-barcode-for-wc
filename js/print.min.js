"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(u){function d(e,t,n){for(var r,o,a,e=u(e),t=e.clone(t,n),i=e.find("textarea").add(e.filter("textarea")),l=t.find("textarea").add(t.filter("textarea")),c=e.find("select").add(e.filter("select")),d=t.find("select").add(t.filter("select")),f=e.find("canvas").add(e.filter("canvas")),s=t.find("canvas").add(t.filter("canvas")),p=0,y=i.length;p<y;++p)u(l[p]).val(u(i[p]).val());for(p=0,y=c.length;p<y;++p)for(r=0,o=c[p].options.length;r<o;++r)!0===c[p].options[r].selected&&(d[p].options[r].selected=!0);for(p=0,y=f.length;p<y;++p)(a=f[p].getContext("2d"))&&(s[p].getContext("2d").drawImage(f[p],0,0),u(s[p]).attr("data-jquery-print",a.canvas.toDataURL()));return t}function f(t){var n=u("");try{n=d(t)}catch(e){n=u("<span />").html(t)}return n}function s(t,e,n){var r=u.Deferred();try{t=t.contentWindow||t.contentDocument||t;try{t.resizeTo(window.innerWidth,window.innerHeight)}catch(e){console.warn(e)}var o=t.document||t.contentDocument||t;n.doctype&&o.write(n.doctype),o.write(e);try{for(var a=o.querySelectorAll("canvas"),i=0;i<a.length;i++){var l=a[i].getContext("2d"),c=new Image;c.onload=function(){l.drawImage(c,0,0)},c.src=a[i].getAttribute("data-jquery-print")}}catch(e){console.warn(e)}o.close();var d=!1,f=function(){if(!d){t.focus();try{t.document.execCommand("print",!1,null)||t.print(),u("body").focus()}catch(e){t.print()}t.close(),d=!0,r.resolve()}};u(t).on("load",f),setTimeout(f,n.timeout)}catch(e){r.reject(e)}return r}function p(e,t){s(window.open(),e,t).always(function(){try{t.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}function y(e){return"object"===("undefined"==typeof Node?"undefined":_typeof(Node))?e instanceof Node:e&&"object"===_typeof(e)&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}u.print=u.fn.print=function(){var e=this,e=(y(e=e instanceof u?e.get(0):e)?(c=u(e),0<arguments.length&&(t=arguments[0])):0<arguments.length?y((c=u(arguments[0]))[0])?1<arguments.length&&(t=arguments[1]):(t=arguments[0],c=u("html")):c=u("html"),{globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:u.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"}),t=u.extend({},e,t||{}),n=u("");if(t.globalStyles?n=u("style, link, meta, base, title"):t.mediaPrint&&(n=u("link[media=print]")),t.stylesheet){(u.isArray||Array.isArray)(t.stylesheet)||(t.stylesheet=[t.stylesheet]);for(var r=0;r<t.stylesheet.length;r++)n=u.merge(n,u('<link rel="stylesheet" href="'+t.stylesheet[r]+'">'))}var o,a,i,l,e=d(c,!0,!0),c=((e=u("<span/>").append(e)).find(t.noPrintSelector).remove(),e.append(d(n)),t.title&&(0===(c=u("title",e)).length&&(c=u("<title />"),e.append(c)),c.text(t.title)),e.append(f(t.append)),e.prepend(f(t.prepend)),t.manuallyCopyFormValues&&(e.find("input").each(function(){var e=u(this);e.is("[type='radio']")||e.is("[type='checkbox']")?e.prop("checked")&&e.attr("checked","checked"):e.attr("value",e.val())}),e.find("select").each(function(){u(this).find(":selected").attr("selected","selected")}),e.find("textarea").each(function(){var e=u(this);e.text(e.val())})),e.html());try{t.deferred.notify("generated_markup",c,e)}catch(e){console.warn("Error notifying deferred",e)}if(e.remove(),t.iframe)try{o=c,i=u((a=t).iframe+""),l=i.length,s((i=0===l?u('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999}):i).get(0),o,a).done(function(){setTimeout(function(){0===l&&i.remove()},1e3)}).fail(function(e){console.error("Failed to print from iframe",e),p(o,a)}).always(function(){try{a.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}})}catch(e){console.error("Failed to print from iframe",e.stack,e.message),p(c,t)}else p(c,t);return this}}(jQuery);
//# sourceMappingURL=ffw-print.min.js.map
